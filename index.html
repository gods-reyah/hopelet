<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hopelet</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Romantic Font -->
    <link href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kaushan Script&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Italianno&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Poppins Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">


    <!-- Firebase Initialization (Global) -->
    <script type="module">
        // Import Firebase SDK (modular)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
        import {
            getFirestore, doc, getDoc, updateDoc, increment
        } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-firestore.js";

        // Your Firebase config (replace with real values)
        const firebaseConfig = {
            apiKey: "AIzaSyCIF88o3yshlQsyWfD31UdP800nzs8SDLw",
            authDomain: "hopelet-e459d.firebaseapp.com",
            projectId: "hopelet-e459d",
            storageBucket: "hopelet-e459d.firebasestorage.app",
            messagingSenderId: "379401277653",
            appId: "1:379401277653:web:1cea62d45fb76c3c48125c",
            measurementId: "G-G8Y9KZLLPK"
        };

        // Initialize Firebase only once
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // ‚úÖ Make available to all scripts
        window.db = db;
        window.firebaseFns = { doc, getDoc, updateDoc, increment };

        // üî• Make all Firestore functions accessible globally
        //window.db = db;
        //window.firebaseFns = { doc, getDoc, setDoc, updateDoc };
    </script>



    <style>
        body {
            font-family: 'Sacramento', 'Kaushan Script', 'Italianno';
        }

        /* Floating animation */
        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-15px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        @media (max-width: 768px) {
            body {
                font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
                font-size: 17px;
                line-height: 1.6;
            }
        }

        #calendar-section {
            font-family: 'Poppins', sans-serif;
        }

        .float {
            animation: float 6s ease-in-out infinite;
        }

        /* Gradient background animation */
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @media (max-width: 640px) {
            .scroll-indicator {
                bottom: 7rem;
                /* Move further up */
            }
        }




        .gradient-bg {
            background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #a18cd1, #fbc2eb);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        /* Heart pulse animation */
        @keyframes pulse-heart {
            0% {
                transform: scale(1);
                opacity: 0.4;
            }

            50% {
                transform: scale(1.2);
                opacity: 0.7;
            }

            100% {
                transform: scale(1);
                opacity: 0.4;
            }
        }

        .pulse-heart {
            animation: pulse-heart 4s ease-in-out infinite;
        }

        /* Down arrow bounce */
        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-8px);
            }
        }

        .arrow-bounce {
            animation: bounce 1.5s infinite;
        }

        /* Romantic readable font */
        .hopelet-title {
            font-family: 'Italianno', cursive;
            transition: color 0.5s ease;
        }

        .hopelet-subtitle {
            font-family: 'Kaushan Script';
            letter-spacing: 0.05em;
            /* slightly spaced letters */
            word-spacing: 0.15em;
            /* slightly spaced words */
            transition: color 0.5s ease;
        }
    </style>
</head>

<body class="text-white overflow-x-hidden">

    <!-- Section 1: Landing Page -->
    <section class="gradient-bg min-h-screen flex flex-col justify-center items-center relative text-center px-6">

        <!-- Floating decorative blobs -->
        <div class="absolute top-10 left-10 w-24 h-24 bg-pink-400 opacity-30 rounded-full blur-3xl float"></div>
        <div class="absolute bottom-20 right-20 w-32 h-32 bg-purple-400 opacity-30 rounded-full blur-3xl float"></div>
        <div class="absolute top-1/2 left-1/3 w-20 h-20 bg-yellow-300 opacity-20 rounded-full blur-2xl float"></div>

        <!-- Floating blurred hearts -->
        <div class="absolute top-20 right-1/4 text-pink-300 text-6xl pulse-heart blur-sm">‚ù§</div>
        <div class="absolute bottom-32 left-1/3 text-pink-200 text-5xl pulse-heart blur-sm">‚ù§</div>
        <div class="absolute top-1/3 left-1/4 text-pink-400 text-7xl pulse-heart blur-sm">‚ù§</div>

        <!-- Project Name -->
        <h1 class="hopelet-title text-7xl md:text-8xl lg:text-9xl font-extrabold drop-shadow-lg dynamic-text">
            Hopelet
        </h1>
        <p class="hopelet-subtitle mt-4 text-3xl md:text-4xl italic font-bold opacity-90 dynamic-text">
            Let the hope begin...
        </p>


        <!-- Down Arrow (scroll indicator) -->
        <div onclick="document.getElementById('main-section').scrollIntoView({ behavior: 'smooth' })"
            class="absolute bottom-10 sm:bottom-10 bottom-28 cursor-pointer arrow-bounce text-white opacity-80 hover:opacity-100 transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
        </div>


    </section>

    <!-- Section 2: Main Project Area -->
    <section id="main-section" class="min-h-screen bg-gray-100 text-gray-900 relative overflow-hidden">

        <!-- Desktop layout: two side-by-side panels -->
        <div class="hidden md:grid grid-cols-2 gap-6 p-6 h-full">

            <!-- Abhi's Panel -->
            <div
                class="rounded-3xl p-8 flex flex-col gap-6 items-center justify-center text-2xl font-bold bg-gradient-to-br from-pink-400 to-purple-500 text-black shadow-lg">

                <!-- Abhi Box at Top -->
                <div class="w-full">
                    <div
                        class="bg-gradient-to-r from-yellow-500 to-orange-100 rounded-2xl shadow-lg flex items-center justify-center px-6 py-4 w-full">
                        <span class="text-Black text-3xl font-bold">Abhi</span>
                    </div>
                </div>

                <!-- Counter Cards Row -->
                <div class="flex flex-col md:flex-row gap-6 w-full">

                    <!-- First Counter Card -->
                    <div class="flex-1 bg-white rounded-2xl shadow-md font-sans">
                        <div id="count-card"
                            class="bg-gradient-to-r from-purple-600 to-purple-400 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full h-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative">

                            <!-- Image -->
                            <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                                <img id="card-image" src="./img/1.jpg" alt="icon"
                                    class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">

                                <!-- Plus Icon -->
                                <svg id="plus-icon" xmlns="http://www.w3.org/2000/svg"
                                    class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                                </svg>
                            </div>

                            <!-- Count -->
                            <div class="flex flex-1 items-center justify-center">
                                <!-- Spinner -->
                                <div id="count-loading" class="hidden flex justify-center items-center">
                                    <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                            stroke-width="4">
                                        </circle>
                                        <path class="opacity-75" fill="currentColor"
                                            d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                    </svg>
                                </div>
                                <span id="count-value" class="text-white text-5xl font-bold">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Rosary Counter Card -->
                    <div class="flex-1 bg-white rounded-2xl shadow-md font-sans">
                        <div id="rosary-count-card"
                            class="bg-gradient-to-r from-blue-400 to-blue-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full h-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative">

                            <!-- Image -->
                            <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                                <img id="rosary-card-image" src="./img/2.jpg" alt="Rosary"
                                    class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">

                                <!-- Plus Icon -->
                                <svg id="rosary-plus-icon" xmlns="http://www.w3.org/2000/svg"
                                    class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                                </svg>
                            </div>

                            <!-- Count -->
                            <div class="flex flex-1 items-center justify-center">
                                <!-- Spinner -->
                                <div id="rosary-count-loading" class="hidden flex justify-center items-center">
                                    <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                            stroke-width="4">
                                        </circle>
                                        <path class="opacity-75" fill="currentColor"
                                            d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                    </svg>
                                </div>
                                <span id="rosary-count-value" class="text-white text-5xl font-bold">0</span>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- New Row of Cards (Mercy Rosary and Adoration) -->
                <div class="flex flex-col md:flex-row gap-6 w-full">

                    <!-- Mercy Rosary Card -->
                    <div class="flex-1 bg-white rounded-2xl shadow-md font-sans">
                        <div id="mercy-rosary-count-card"
                            class="bg-gradient-to-r from-pink-400 to-pink-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full h-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative">

                            <!-- Image -->
                            <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                                <img id="mercy-rosary-image" src="./img/3.jpg" alt="Mercy Rosary"
                                    class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                                <svg id="mercy-rosary-plus-icon" xmlns="http://www.w3.org/2000/svg"
                                    class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                                </svg>
                            </div>

                            <!-- Count -->
                            <div class="flex flex-1 items-center justify-center">
                                <div id="mercy-rosary-loading" class="hidden flex justify-center items-center">
                                    <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                            stroke-width="4" />
                                        <path class="opacity-75" fill="currentColor"
                                            d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z" />
                                    </svg>
                                </div>
                                <span id="mercy-rosary-count-value" class="text-white text-5xl font-bold">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Adoration Card -->
                    <div class="flex-1 bg-white rounded-2xl shadow-md font-sans">
                        <div id="adoration-count-card"
                            class="bg-gradient-to-r from-green-400 to-green-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full h-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative">

                            <!-- Image -->
                            <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                                <img id="adoration-card-image" src="./img/4.jpg" alt="Adoration"
                                    class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                                <svg id="adoration-plus-icon" xmlns="http://www.w3.org/2000/svg"
                                    class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                                </svg>
                            </div>

                            <!-- Count -->
                            <div class="flex flex-1 items-center justify-center">
                                <div id="adoration-count-loading" class="hidden flex justify-center items-center">
                                    <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                            stroke-width="4" />
                                        <path class="opacity-75" fill="currentColor"
                                            d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z" />
                                    </svg>
                                </div>
                                <span id="adoration-count-value" class="text-white text-5xl font-bold">0</span>
                            </div>
                        </div>
                    </div>

                </div>

            </div>



            <!-- Melna's Panel -->
            <div
                class="rounded-3xl p-8 flex flex-col gap-6 items-center justify-center text-2xl font-bold bg-gradient-to-br from-pink-400 to-purple-500 text-black shadow-lg">

                <!-- Melna Header -->
                <div class="w-full">
                    <div
                        class="bg-gradient-to-r from-yellow-500 to-orange-100 rounded-2xl shadow-lg flex items-center justify-center px-6 py-4 w-full">
                        <span class="text-black text-3xl font-bold">Melna</span>
                    </div>
                </div>

                <!-- Counter Cards Row -->
                <div class="flex flex-col md:flex-row gap-6 w-full">

                    <!-- Melna Counter Card -->
                    <div class="flex-1 bg-white rounded-2xl shadow-md font-sans">
                        <div id="melna-count-card"
                            class="bg-gradient-to-r from-purple-600 to-purple-400 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full h-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative">

                            <!-- Image -->
                            <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                                <img id="melna-card-image" src="./img/1.jpg" alt="Melna"
                                    class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">

                                <!-- Plus Icon -->
                                <svg id="melna-plus-icon" xmlns="http://www.w3.org/2000/svg"
                                    class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                                </svg>
                            </div>

                            <!-- Count -->
                            <div class="flex flex-1 items-center justify-center">
                                <!-- Spinner -->
                                <div id="melna-count-loading" class="hidden flex justify-center items-center">
                                    <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                            stroke-width="4">
                                        </circle>
                                        <path class="opacity-75" fill="currentColor"
                                            d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                    </svg>
                                </div>
                                <span id="melna-count-value" class="text-white text-5xl font-bold">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Melna Rosary Counter Card -->
                    <div class="flex-1 bg-white rounded-2xl shadow-md font-sans">
                        <div id="melna-rosary-count-card"
                            class="bg-gradient-to-r from-blue-400 to-blue-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full h-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative">

                            <!-- Image -->
                            <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                                <img id="melna-rosary-card-image" src="./img/2.jpg" alt="Rosary"
                                    class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">

                                <!-- Plus Icon -->
                                <svg id="melna-rosary-plus-icon" xmlns="http://www.w3.org/2000/svg"
                                    class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                                </svg>
                            </div>

                            <!-- Count -->
                            <div class="flex flex-1 items-center justify-center">
                                <!-- Spinner -->
                                <div id="melna-rosary-count-loading" class="hidden flex justify-center items-center">
                                    <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                            stroke-width="4">
                                        </circle>
                                        <path class="opacity-75" fill="currentColor"
                                            d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                    </svg>
                                </div>
                                <span id="melna-rosary-count-value" class="text-white text-5xl font-bold">0</span>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- New Row of Cards for Melna (Mercy Rosary and Adoration) -->
                <div class="flex flex-col md:flex-row gap-6 w-full">

                    <!-- Melna Mercy Rosary Card -->
                    <div class="flex-1 bg-white rounded-2xl shadow-md font-sans">
                        <div id="melna-mercy-rosary-count-card"
                            class="bg-gradient-to-r from-pink-400 to-pink-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full h-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative">

                            <!-- Image -->
                            <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                                <img id="melna-mercy-rosary-image" src="./img/3.jpg" alt="Mercy Rosary"
                                    class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                                <svg id="melna-mercy-rosary-plus-icon" xmlns="http://www.w3.org/2000/svg"
                                    class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                                </svg>
                            </div>

                            <!-- Count -->
                            <div class="flex flex-1 items-center justify-center">
                                <div id="melna-mercy-rosary-loading" class="hidden flex justify-center items-center">
                                    <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                            stroke-width="4" />
                                        <path class="opacity-75" fill="currentColor"
                                            d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z" />
                                    </svg>
                                </div>
                                <span id="melna-mercy-rosary-count-value" class="text-white text-5xl font-bold">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Melna Adoration Card -->
                    <div class="flex-1 bg-white rounded-2xl shadow-md font-sans">
                        <div id="melna-adoration-count-card"
                            class="bg-gradient-to-r from-green-400 to-green-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full h-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative">

                            <!-- Image -->
                            <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                                <img id="melna-adoration-card-image" src="./img/4.jpg" alt="Adoration"
                                    class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                                <svg id="melna-adoration-plus-icon" xmlns="http://www.w3.org/2000/svg"
                                    class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                                </svg>
                            </div>

                            <!-- Count -->
                            <div class="flex flex-1 items-center justify-center">
                                <div id="melna-adoration-count-loading" class="hidden flex justify-center items-center">
                                    <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                            stroke-width="4" />
                                        <path class="opacity-75" fill="currentColor"
                                            d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z" />
                                    </svg>
                                </div>
                                <span id="melna-adoration-count-value" class="text-white text-5xl font-bold">0</span>
                            </div>
                        </div>
                    </div>

                </div>


            </div>
            <!-- Down Arrow (scroll indicator) -->
            <div onclick="document.getElementById('calender-section').scrollIntoView({ behavior: 'smooth' })"
                class="absolute bottom-2 left-1/2 transform -translate-x-1/2 cursor-pointer arrow-bounce text-black opacity-80 hover:opacity-100 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
            </div>





        </div>

        <!-- Mobile layout: one panel at a time -->
        <div class="md:hidden relative min-h-screen overflow-y-auto">

            <!-- Wrapper for panels -->
            <div id="mobilePanels" class="w-full h-full flex transition-transform duration-500 ease-in-out">

                <!-- Panel 1: Abhi's Panel -->
                <div class="min-w-full p-4 bg-gradient-to-br from-pink-400 to-purple-500 flex flex-col">
                    <!-- Abhi Box at Top -->
                    <div class="w-full">
                        <div
                            class="bg-gradient-to-r from-yellow-500 to-orange-100 rounded-2xl shadow-lg flex items-center justify-center px-6 py-4 w-full">
                            <span class="text-black text-3xl font-bold">Abhi</span>
                        </div>
                    </div>

                    <!-- Holy Mass Counter Card (Mobile) -->
                    <div id="count-card-mobile"
                        class="bg-gradient-to-r from-pink-400 to-purple-400 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative mt-4">

                        <!-- Image / Plus Icon Wrapper -->
                        <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                            <img id="card-image-mobile" src="./img/1.jpg" alt="Holy Mass"
                                class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                            <!-- Plus Icon -->
                            <svg id="plus-icon-mobile" xmlns="http://www.w3.org/2000/svg"
                                class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                            </svg>
                        </div>

                        <!-- Count -->
                        <div class="flex flex-1 items-center justify-center">
                            <div id="count-loading-mobile" class="hidden flex justify-center items-center">
                                <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4">
                                    </circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                </svg>
                            </div>
                            <span id="count-value-mobile" class="text-white text-5xl font-bold">0</span>
                        </div>
                    </div>

                    <!-- Rosary Counter Card (Mobile) -->
                    <div id="rosary-count-card-mobile"
                        class="bg-gradient-to-r from-blue-400 to-blue-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative mt-4">

                        <!-- Image / Plus Icon Wrapper -->
                        <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                            <img id="rosary-card-image-mobile" src="./img/2.jpg" alt="Rosary"
                                class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                            <!-- Plus Icon -->
                            <svg id="rosary-plus-icon-mobile" xmlns="http://www.w3.org/2000/svg"
                                class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                            </svg>
                        </div>

                        <!-- Count -->
                        <div class="flex flex-1 items-center justify-center">
                            <div id="rosary-count-loading-mobile" class="hidden flex justify-center items-center">
                                <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4">
                                    </circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                </svg>
                            </div>
                            <span id="rosary-count-value-mobile" class="text-white text-5xl font-bold">0</span>
                        </div>
                    </div>
                    <!-- Abhi Mercy Rosary Card (Mobile) -->
                    <div id="mercy-rosary-count-card-mobile"
                        class="bg-gradient-to-r from-pink-400 to-pink-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative mt-4">
                        <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                            <img id="mercy-rosary-card-image-mobile" src="./img/3.jpg" alt="Mercy Rosary"
                                class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                            <svg id="mercy-rosary-plus-icon-mobile" xmlns="http://www.w3.org/2000/svg"
                                class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                            </svg>
                        </div>
                        <div class="flex flex-1 items-center justify-center">
                            <div id="mercy-rosary-count-loading-mobile" class="hidden flex justify-center items-center">
                                <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4" />
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z" />
                                </svg>
                            </div>
                            <span id="mercy-rosary-count-value-mobile" class="text-white text-5xl font-bold">0</span>
                        </div>
                    </div>

                    <!-- Adoration Counter Card (Mobile) - Abhi -->
                    <div id="adoration-count-card-mobile-abhi"
                        class="bg-gradient-to-r from-green-400 to-green-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full hover:shadow-xl transition-shadow duration-300 cursor-pointer mt-4 relative">

                        <!-- Image / Plus Icon Wrapper -->
                        <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                            <img id="adoration-card-image-mobile-abhi" src="./img/4.jpg" alt="Adoration"
                                class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                            <svg id="adoration-plus-icon-mobile-abhi" xmlns="http://www.w3.org/2000/svg"
                                class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                            </svg>
                        </div>

                        <!-- Count -->
                        <div class="flex flex-1 items-center justify-center">
                            <div id="adoration-count-loading-mobile-abhi"
                                class="hidden flex justify-center items-center">
                                <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                </svg>
                            </div>
                            <span id="adoration-count-value-mobile-abhi" class="text-white text-5xl font-bold">0</span>
                        </div>
                    </div>



                </div>

                <!-- Panel 2: Melna's Panel -->
                <div class="min-w-full p-4 bg-gradient-to-br from-pink-400 to-purple-500 flex flex-col">
                    <div class="w-full">
                        <div
                            class="bg-gradient-to-r from-yellow-500 to-orange-100 rounded-2xl shadow-lg flex items-center justify-center px-6 py-4 w-full">
                            <span class="text-black text-3xl font-bold">Melna</span>
                        </div>
                    </div>

                    <!-- Holy Mass Counter -->
                    <div id="melna-count-card-mobile"
                        class="bg-gradient-to-r from-pink-400 to-purple-400 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full hover:shadow-xl transition-shadow duration-300 cursor-pointer mt-4 relative">
                        <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                            <img id="melna-card-image-mobile" src="./img/1.jpg" alt="Holy Mass"
                                class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                            <svg id="melna-plus-icon-mobile" xmlns="http://www.w3.org/2000/svg"
                                class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                            </svg>
                        </div>
                        <div class="flex flex-1 items-center justify-center">
                            <div id="melna-count-loading-mobile" class="hidden flex justify-center items-center">
                                <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4">
                                    </circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                </svg>
                            </div>
                            <span id="melna-count-value-mobile" class="text-white text-5xl font-bold">0</span>
                        </div>
                    </div>

                    <!-- Rosary Counter -->
                    <div id="melna-rosary-count-card-mobile"
                        class="bg-gradient-to-r from-blue-400 to-blue-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full hover:shadow-xl transition-shadow duration-300 cursor-pointer mt-4 relative">
                        <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                            <img id="melna-rosary-card-image-mobile" src="./img/2.jpg" alt="Rosary"
                                class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                            <svg id="melna-rosary-plus-icon-mobile" xmlns="http://www.w3.org/2000/svg"
                                class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                            </svg>
                        </div>
                        <div class="flex flex-1 items-center justify-center">
                            <div id="melna-rosary-count-loading-mobile" class="hidden flex justify-center items-center">
                                <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4">
                                    </circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                </svg>
                            </div>
                            <span id="melna-rosary-count-value-mobile" class="text-white text-5xl font-bold">0</span>
                        </div>
                    </div>
                    <!-- Melna Mercy Rosary Card (Mobile) -->
                    <div id="melna-mercy-rosary-count-card-mobile"
                        class="bg-gradient-to-r from-pink-400 to-pink-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full hover:shadow-xl transition-shadow duration-300 cursor-pointer relative mt-4">
                        <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                            <img id="melna-mercy-rosary-card-image-mobile" src="./img/3.jpg" alt="Mercy Rosary"
                                class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                            <svg id="melna-mercy-rosary-plus-icon-mobile" xmlns="http://www.w3.org/2000/svg"
                                class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                            </svg>
                        </div>
                        <div class="flex flex-1 items-center justify-center">
                            <div id="melna-mercy-rosary-count-loading-mobile"
                                class="hidden flex justify-center items-center">
                                <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4" />
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z" />
                                </svg>
                            </div>
                            <span id="melna-mercy-rosary-count-value-mobile"
                                class="text-white text-5xl font-bold">0</span>
                        </div>
                    </div>

                    <!-- Adoration Counter Card (Mobile) - Melna -->
                    <div id="melna-adoration-count-card-mobile"
                        class="bg-gradient-to-r from-green-400 to-green-300 rounded-2xl shadow-lg flex items-center px-4 py-3 w-full hover:shadow-xl transition-shadow duration-300 cursor-pointer mt-4 relative">

                        <!-- Image / Plus Icon Wrapper -->
                        <div class="flex-shrink-0 flex items-center justify-center relative w-20 h-20">
                            <img id="melna-adoration-card-image-mobile" src="./img/4.jpg" alt="Adoration"
                                class="w-20 h-20 rounded-xl object-cover shadow-sm transition-opacity duration-300">
                            <svg id="melna-adoration-plus-icon-mobile" xmlns="http://www.w3.org/2000/svg"
                                class="h-10 w-10 text-white absolute opacity-0 transition-opacity duration-300"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                            </svg>
                        </div>

                        <!-- Count -->
                        <div class="flex flex-1 items-center justify-center">
                            <div id="melna-adoration-count-loading-mobile"
                                class="hidden flex justify-center items-center">
                                <svg class="animate-spin h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                </svg>
                            </div>
                            <span id="melna-adoration-count-value-mobile" class="text-white text-5xl font-bold">0</span>
                        </div>
                    </div>



                </div>
            </div>
            <!-- Down Arrow (scroll indicator) -->
            <div onclick="document.getElementById('calendar-section').scrollIntoView({ behavior: 'smooth' })"
                class="absolute bottom-6 left-1/2 transform -translate-x-1/2 cursor-pointer arrow-bounce text-black opacity-80 hover:opacity-100 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
            </div>

        </div>

        <!-- Navigation buttons OUTSIDE panels -->
        <div class="md:hidden pointer-events-none">
            <button id="prevBtn"
                class="absolute left-0 top-[85%] -translate-y-1/2 cursor-pointer arrow-bounce text-white opacity-80 hover:opacity-100 transition z-20 pointer-events-auto"
                aria-label="Previous Section">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
            </button>

            <button id="nextBtn"
                class="absolute right-0 top-[85%] -translate-y-1/2 cursor-pointer arrow-bounce text-white opacity-80 hover:opacity-100 transition z-20 pointer-events-auto"
                aria-label="Next Section">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </div>
    </section>



    <!-- Calendar Section -->
    <section id="calendar-section" class="min-h-screen bg-gray-100 text-gray-900 flex flex-col items-center py-6 px-4">

        <!-- Loading Spinner
        <div id="loadingSpinner"
            class="flex items-center justify-center absolute inset-0 bg-white bg-opacity-70 z-50 hidden">
            <div class="spinner"></div>
        </div>-->

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-6xl">

            <!-- Calendar Template - Abhi -->
            <div id="calendar1" class="calendar-card">
                <h2 class="calendar-title">Abhi</h2>
                <div class="grid grid-cols-3 items-center mb-4">
                    <button class="nav-btn prev" data-cal="1">‚óÄ</button>
                    <h2 id="monthYear1" class="month-label"></h2>
                    <button class="nav-btn next" data-cal="1">‚ñ∂</button>
                </div>

                <div class="weekdays">
                    <div>S</div>
                    <div>M</div>
                    <div>T</div>
                    <div>W</div>
                    <div>T</div>
                    <div>F</div>
                    <div>S</div>
                </div>
                <div id="days1" class="days-grid"></div>

                <!-- Expandable Events Section -->
                <div id="eventsSection1" class="events-section hidden">
                    <div class="events-header">
                        <span id="selectedDateLabel1">Events</span>
                        <button class="confess-btn" data-cal="1">‚ù§Ô∏è Mark as Confessed</button>
                    </div>
                    <div id="eventList1" class="event-list"></div>
                    <button class="add-btn" data-cal="1">+</button>
                </div>
            </div>

            <!-- Calendar Template - Melna -->
            <div id="calendar2" class="calendar-card">
                <h2 class="calendar-title">Melna</h2>
                <div class="grid grid-cols-3 items-center mb-4">
                    <button class="nav-btn prev" data-cal="2">‚óÄ</button>
                    <h2 id="monthYear2" class="month-label"></h2>
                    <button class="nav-btn next" data-cal="2">‚ñ∂</button>
                </div>

                <div class="weekdays">
                    <div>S</div>
                    <div>M</div>
                    <div>T</div>
                    <div>W</div>
                    <div>T</div>
                    <div>F</div>
                    <div>S</div>
                </div>
                <div id="days2" class="days-grid"></div>

                <!-- Expandable Events Section -->
                <div id="eventsSection2" class="events-section hidden">
                    <div class="events-header">
                        <span id="selectedDateLabel2">Events</span>
                        <button class="confess-btn" data-cal="2">‚ù§Ô∏è Mark as Confessed</button>
                    </div>
                    <div id="eventList2" class="event-list"></div>
                    <button class="add-btn" data-cal="2">+</button>
                </div>
            </div>
        </div>

        <!-- Add Event Modal -->
        <div id="eventModal" class="modal">
            <div class="modal-content">
                <button id="closeEventModal" class="close-btn">‚úñ</button>
                <h2 class="text-lg font-bold mb-4">Add Event</h2>
                <input type="text" id="eventTitle" placeholder="Event title" class="input-field" />
                <select id="eventType" class="input-field">
                    <option value="event">Event</option>
                    <option value="birthday">Birthday</option>
                    <option value="meeting">Meeting</option>
                    <option value="holiday">Holiday</option>
                    <option value="other">Other</option>
                </select>
                <button id="saveEventBtn" class="save-btn">Save</button>
                <button id="cancelEventBtn" class="cancel-btn">Cancel</button>
            </div>
        </div>

        <style>
            /* Spinner */
            .spinner {
                border: 4px solid rgba(0, 0, 0, 0.1);
                width: 40px;
                height: 40px;
                border-radius: 50%;
                border-left-color: #4f46e5;
                animation: spin 1s ease infinite;
            }

            @keyframes spin {
                to {
                    transform: rotate(360deg);
                }
            }

            /* Calendar Styling */
            .calendar-card {
                background: white;
                border-radius: 1rem;
                padding: 1rem;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                position: relative;
            }

            .calendar-title {
                text-align: center;
                font-weight: bold;
                font-size: 1.2rem;
                margin-bottom: .5rem;
            }

            .nav-btn {
                background: transparent;
                font-size: 1.2rem;
                cursor: pointer;
            }

            .month-label {
                text-align: center;
                font-weight: bold;
            }

            .weekdays {
                display: grid;
                grid-template-columns: repeat(7, 1fr);
                text-align: center;
                font-weight: bold;
                margin-bottom: .5rem;
            }

            .days-grid {
                display: grid;
                grid-template-columns: repeat(7, 1fr);
                text-align: center;
            }

            /* Events Section */
            .events-section {
                background: #f9fafb;
                margin-top: 1rem;
                padding: 1rem;
                border-radius: .75rem;
                animation: slideDown .3s ease-out;
                position: relative;
            }

            .events-header {
                display: flex;
                justify-content: space-between;
                margin-bottom: .5rem;
                font-weight: bold;
            }

            .event-list {
                display: flex;
                flex-direction: column;
                gap: .5rem;
            }

            .event-item {
                background: white;
                border-radius: .5rem;
                padding: .5rem .75rem;
                box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .add-btn {
                background: #4f46e5;
                color: white;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                font-size: 1.5rem;
                display: flex;
                align-items: center;
                justify-content: center;
                position: absolute;
                right: 1rem;
                bottom: 1rem;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                cursor: pointer;
            }

            .confess-btn {
                background: #ef4444;
                color: white;
                padding: .25rem .5rem;
                border-radius: .5rem;
                font-size: .85rem;
                cursor: pointer;
            }

            /* Modal */
            .modal {
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.5);
                display: none;
                /* FIX: starts hidden */
                align-items: center;
                justify-content: center;
                z-index: 50;
            }

            .modal.show {
                display: flex;
                /* Only show when .show is added */
            }

            .modal-content {
                background: white;
                padding: 1.5rem;
                border-radius: 1rem;
                width: 300px;
                position: relative;
                animation: fadeIn .2s ease-out;
            }

            .close-btn {
                position: absolute;
                top: 8px;
                right: 10px;
                background: transparent;
                border: none;
                font-size: 1.2rem;
                cursor: pointer;
            }

            .input-field {
                width: 100%;
                padding: .5rem;
                margin-bottom: .5rem;
                border: 1px solid #ddd;
                border-radius: .5rem;
            }

            .save-btn {
                background: #4f46e5;
                color: white;
                width: 100%;
                padding: .5rem;
                border-radius: .5rem;
                margin-bottom: .25rem;
            }

            .cancel-btn {
                background: transparent;
                color: #555;
                width: 100%;
                padding: .5rem;
                text-align: center;
            }

            /* Animations */
            @keyframes slideDown {
                from {
                    transform: translateY(-10px);
                    opacity: 0;
                }

                to {
                    transform: translateY(0);
                    opacity: 1;
                }
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                }

                to {
                    opacity: 1;
                }
            }
        </style>

        <script type="module">
            const { doc, getDoc, setDoc, updateDoc } = window.firebaseFns;
            const db = window.db;

            const today = new Date();
            let selectedDate = null;
            let selectedCalId = null;
            const events = { 1: {}, 2: {} };
            const confessions = { 1: {}, 2: {} };
            const monthData = {
                1: { year: today.getFullYear(), month: today.getMonth() },
                2: { year: today.getFullYear(), month: today.getMonth() }
            };

            async function fetchEvents(calId) {
                toggleSpinner(true);
                const colName = calId === 1 ? "abhi" : "melna";

                await setDoc(doc(db, colName, "events"), {}, { merge: true });
                await setDoc(doc(db, colName, "confession"), {}, { merge: true });

                const snap = await getDoc(doc(db, colName, "events"));
                if (snap.exists()) events[calId] = snap.data();

                const confessSnap = await getDoc(doc(db, colName, "confession"));
                if (confessSnap.exists()) confessions[calId] = confessSnap.data();

                renderCalendar(calId);
                toggleSpinner(false);
            }

            function renderCalendar(calId) {
                const { year, month } = monthData[calId];
                const firstDay = new Date(year, month, 1).getDay();
                const daysInMonth = new Date(year, month + 1, 0).getDate();

                document.getElementById(`monthYear${calId}`).textContent =
                    `${new Date(year, month).toLocaleString('default', { month: 'long' })} ${year}`;

                const daysContainer = document.getElementById(`days${calId}`);
                daysContainer.innerHTML = '';

                for (let i = 0; i < firstDay; i++) daysContainer.innerHTML += `<div></div>`;

                for (let day = 1; day <= daysInMonth; day++) {
                    const dateKey = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                    let extraClass = '';
                    if (dateKey === formatDate(today)) extraClass = 'bg-blue-500 text-white';
                    if (confessions[calId]?.confessedDate === dateKey) extraClass = 'bg-red-500 text-white';
                    if (confessions[calId]?.nextConfessionDate === dateKey) extraClass = 'bg-green-500 text-white';

                    const dayDiv = document.createElement('div');
                    dayDiv.className = `cursor-pointer p-2 rounded hover:bg-gray-200 ${extraClass}`;
                    dayDiv.textContent = day;
                    dayDiv.addEventListener('click', () => selectDate(dateKey, calId));
                    daysContainer.appendChild(dayDiv);
                }
            }

            function changeMonth(delta, calId) {
                monthData[calId].month += delta;
                if (monthData[calId].month > 11) { monthData[calId].month = 0; monthData[calId].year++; }
                if (monthData[calId].month < 0) { monthData[calId].month = 11; monthData[calId].year--; }
                renderCalendar(calId);
            }

            function selectDate(dateKey, calId) {
                selectedDate = dateKey;
                selectedCalId = calId;

                document.getElementById(`selectedDateLabel${calId}`).textContent = dateKey;
                const eventList = document.getElementById(`eventList${calId}`);
                eventList.innerHTML = '';

                const dateEvents = events[calId][dateKey] || [];
                if (dateEvents.length === 0) {
                    eventList.innerHTML = '<div class="text-gray-500 text-sm">No events</div>';
                } else {
                    dateEvents.forEach(e => {
                        const div = document.createElement('div');
                        div.className = 'event-item';
                        div.innerHTML = `<span>${e.title}</span><span class="text-xs text-gray-500">${e.type}</span>`;
                        eventList.appendChild(div);
                    });
                }
                document.getElementById(`eventsSection${calId}`).classList.remove("hidden");
            }

            function openEventModal(calId) {
                if (!selectedDate) {
                    alert("Please select a date first!");
                    return;
                }
                selectedCalId = calId;
                document.getElementById("eventTitle").value = "";
                document.getElementById("eventModal").classList.add("show");
            }

            function closeModal() {
                document.getElementById("eventModal").classList.remove("show");
            }

            async function saveEvent() {
                const title = document.getElementById("eventTitle").value.trim();
                const type = document.getElementById("eventType").value;
                if (!title || !selectedDate || !selectedCalId) return;

                const colName = selectedCalId === 1 ? "abhi" : "melna";
                if (!events[selectedCalId][selectedDate]) events[selectedCalId][selectedDate] = [];
                events[selectedCalId][selectedDate].push({ title, type });

                await updateDoc(doc(db, colName, "events"), { [selectedDate]: events[selectedCalId][selectedDate] });
                closeModal();
                selectDate(selectedDate, selectedCalId);
                renderCalendar(selectedCalId);
            }

            async function markConfessed(calId) {
                if (!selectedDate) return;

                const colName = calId === 1 ? "abhi" : "melna";
                const confessedDate = selectedDate;
                const nextConfessionDate = formatDate(new Date(new Date(confessedDate).getTime() + 14 * 24 * 60 * 60 * 1000));

                confessions[calId] = { confessedDate, nextConfessionDate };
                await updateDoc(doc(db, colName, "confession"), confessions[calId]);
                renderCalendar(calId);
            }

            function formatDate(date) {
                return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
            }

            function toggleSpinner(show) {
                document.getElementById("loadingSpinner").classList.toggle("hidden", !show);
            }

            // Event Listeners
            document.querySelectorAll('.nav-btn.prev').forEach(btn => btn.addEventListener('click', e => changeMonth(-1, Number(e.target.dataset.cal))));
            document.querySelectorAll('.nav-btn.next').forEach(btn => btn.addEventListener('click', e => changeMonth(1, Number(e.target.dataset.cal))));
            document.querySelectorAll('.add-btn').forEach(btn => btn.addEventListener('click', e => openEventModal(Number(e.target.dataset.cal))));
            document.querySelectorAll('.confess-btn').forEach(btn => btn.addEventListener('click', e => markConfessed(Number(e.target.dataset.cal))));
            document.getElementById('cancelEventBtn').addEventListener('click', closeModal);
            document.getElementById('closeEventModal').addEventListener('click', closeModal);
            document.getElementById('eventModal').addEventListener('click', e => { if (e.target.id === 'eventModal') closeModal(); });
            document.getElementById('saveEventBtn').addEventListener('click', saveEvent);

            // Initial fetch
            fetchEvents(1);
            fetchEvents(2);
        </script>
    </section>






    <!-- Script for softer adaptive text color -->
    <script>
        function adjustTextColorSmooth() {
            const textElements = document.querySelectorAll("h1, p");

            textElements.forEach(el => {
                // Find nearest gradient background
                let parentBg = null;
                let parent = el.closest(".gradient-bg");

                if (parent) {
                    parentBg = window.getComputedStyle(parent).backgroundColor;
                } else {
                    parentBg = window.getComputedStyle(document.body).backgroundColor;
                }

                // Extract RGB values
                const rgbMatch = parentBg.match(/\d+/g);
                const rgb = rgbMatch ? rgbMatch.map(Number) : [255, 255, 255];

                // Calculate perceived brightness
                const brightness = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;

                let shade, textShadow;

                if (brightness > 180) {
                    // Very light ‚Üí soft dark text
                    shade = "rgba(50, 50, 50, 0.95)";
                    textShadow = "0 2px 6px rgba(0,0,0,0.15)";
                }
                else if (brightness > 130) {
                    // Medium ‚Üí darker text
                    shade = "rgba(30, 30, 30, 0.95)";
                    textShadow = "0 2px 8px rgba(0,0,0,0.2)";
                }
                else {
                    // Dark ‚Üí soft glowing light text
                    shade = "rgba(255, 255, 255, 0.95)";
                    textShadow = `
                0 0 8px rgba(255, 192, 203, 0.4),
                0 0 16px rgba(255, 192, 203, 0.2)
            `;
                }

                // Apply styles
                el.style.color = shade;
                el.style.textShadow = textShadow;
            });
        }

        // Adjust every 300ms for smooth changes
        setInterval(adjustTextColorSmooth, 200);

        const panels = document.getElementById("mobilePanels");
        let index = 0;

        function updatePanels() {
            panels.style.transform = `translateX(-${index * 100}%)`;
        }

        document.getElementById("prevBtn").addEventListener("click", () => {
            index = (index - 1 + 2) % 2;
            updatePanels();
        });

        document.getElementById("nextBtn").addEventListener("click", () => {
            index = (index + 1) % 2;
            updatePanels();
        });
    </script>

    <!-- a holy mass -->
    <script type="module">
        const { doc, getDoc, updateDoc } = window.firebaseFns;

        function setupCounter(cardId, imageId, plusIconId, loadingId, valueId, localKey, firebaseDocName, collectionName) {
            const card = document.getElementById(cardId);
            const image = document.getElementById(imageId);
            const plusIcon = document.getElementById(plusIconId);
            const loadingSpinner = document.getElementById(loadingId);
            const countValue = document.getElementById(valueId);

            if (!card || !plusIcon) return;

            let count = 0;
            let mobileFirstTap = true;

            function showLoading() {
                loadingSpinner.classList.remove("hidden");
                countValue.classList.add("hidden");
            }

            function showCount(value) {
                countValue.textContent = value;
                loadingSpinner.classList.add("hidden");
                countValue.classList.remove("hidden");
            }

            function setCountColor(color) {
                countValue.style.color = color;
            }

            // Show loading initially
            showLoading();

            // Load from Local Storage
            if (localStorage.getItem(localKey)) {
                count = parseInt(localStorage.getItem(localKey), 10);
                showCount(count);
            }

            // Load from Firebase
            async function loadFromFirebase() {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    const snapshot = await getDoc(ref);
                    if (snapshot.exists()) {
                        count = snapshot.data().value || 0;
                        localStorage.setItem(localKey, count);
                        showCount(count);
                    } else {
                        showCount(0);
                    }
                } catch (err) {
                    console.error("Error fetching from Firebase:", err);
                    showCount(count || 0);
                }
            }
            loadFromFirebase();

            // Save to Firebase
            async function saveToFirebase(newCount) {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    await updateDoc(ref, { value: newCount });
                    setCountColor("#34D399"); // green flash
                    setTimeout(() => setCountColor("white"), 1000);
                } catch (err) {
                    console.error("Error saving to Firebase:", err);
                    setCountColor("red");
                }
            }

            // Desktop hover effects
            if (window.matchMedia("(hover: hover)").matches) {
                card.addEventListener("mouseenter", () => {
                    image.style.opacity = "0.2";
                    plusIcon.style.opacity = "1";
                });
                card.addEventListener("mouseleave", () => {
                    image.style.opacity = "1";
                    plusIcon.style.opacity = "0";
                });

                // Increment only when clicking the plus icon
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    count++;
                    showCount(count);
                    localStorage.setItem(localKey, count);
                    setCountColor("#F59E0B");
                    saveToFirebase(count);
                });
            }
            // Mobile/touch devices
            else {
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    if (mobileFirstTap) {
                        // First tap: just show plus icon (already visible on tap)
                        image.style.opacity = "0.2";
                        plusIcon.style.opacity = "1";
                        mobileFirstTap = false;

                        setTimeout(() => {
                            image.style.opacity = "1";
                            plusIcon.style.opacity = "0";
                            mobileFirstTap = true;
                        }, 3000);
                    } else {
                        // Second tap: increment
                        count++;
                        showCount(count);
                        localStorage.setItem(localKey, count);
                        setCountColor("#F59E0B");
                        saveToFirebase(count);

                        image.style.opacity = "1";
                        plusIcon.style.opacity = "0";
                        mobileFirstTap = true;
                    }
                });
            }
        }

        // Abhi's counters
        setupCounter(
            "count-card",
            "card-image",
            "plus-icon",
            "count-loading",
            "count-value",
            "holy_mass_count",
            "holy mass",
            "abhi"
        );
        setupCounter(
            "count-card-mobile",
            "card-image-mobile",
            "plus-icon-mobile",
            "count-loading-mobile",
            "count-value-mobile",
            "holy_mass_count",
            "holy mass",
            "abhi"
        );

    </script>

    <!-- m holy mass -->
    <script type="module">
        const { doc, getDoc, updateDoc } = window.firebaseFns;

        function setupCounter(cardId, imageId, plusIconId, loadingId, valueId, localKey, firebaseDocName, collectionName) {
            const card = document.getElementById(cardId);
            const image = document.getElementById(imageId);
            const plusIcon = document.getElementById(plusIconId);
            const loadingSpinner = document.getElementById(loadingId);
            const countValue = document.getElementById(valueId);

            if (!card || !plusIcon) return;

            let count = 0;
            let mobileFirstTap = true;

            function showLoading() {
                loadingSpinner.classList.remove("hidden");
                countValue.classList.add("hidden");
            }

            function showCount(value) {
                countValue.textContent = value;
                loadingSpinner.classList.add("hidden");
                countValue.classList.remove("hidden");
            }

            function setCountColor(color) {
                countValue.style.color = color;
            }

            // Show loading initially
            showLoading();

            // Load from Local Storage
            if (localStorage.getItem(localKey)) {
                count = parseInt(localStorage.getItem(localKey), 10);
                showCount(count);
            }

            // Load from Firebase
            async function loadFromFirebase() {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    const snapshot = await getDoc(ref);
                    if (snapshot.exists()) {
                        count = snapshot.data().value || 0;
                        localStorage.setItem(localKey, count);
                        showCount(count);
                    } else {
                        showCount(0);
                    }
                } catch (err) {
                    console.error("Error fetching from Firebase:", err);
                    showCount(count || 0);
                }
            }
            loadFromFirebase();

            // Save to Firebase
            async function saveToFirebase(newCount) {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    await updateDoc(ref, { value: newCount });
                    setCountColor("#34D399"); // green flash
                    setTimeout(() => setCountColor("white"), 1000);
                } catch (err) {
                    console.error("Error saving to Firebase:", err);
                    setCountColor("red");
                }
            }

            // Desktop hover effects
            if (window.matchMedia("(hover: hover)").matches) {
                card.addEventListener("mouseenter", () => {
                    image.style.opacity = "0.2";
                    plusIcon.style.opacity = "1";
                });
                card.addEventListener("mouseleave", () => {
                    image.style.opacity = "1";
                    plusIcon.style.opacity = "0";
                });

                // Increment only when clicking the plus icon
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    count++;
                    showCount(count);
                    localStorage.setItem(localKey, count);
                    setCountColor("#F59E0B");
                    saveToFirebase(count);
                });
            }
            // Mobile/touch devices (two-tap logic like Abhi)
            else {
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    if (mobileFirstTap) {
                        // First tap: show plus icon only
                        image.style.opacity = "0.2";
                        plusIcon.style.opacity = "1";
                        mobileFirstTap = false;

                        // Reset after 3 seconds if no second tap
                        setTimeout(() => {
                            image.style.opacity = "1";
                            plusIcon.style.opacity = "0";
                            mobileFirstTap = true;
                        }, 3000);
                    } else {
                        // Second tap: increment
                        count++;
                        showCount(count);
                        localStorage.setItem(localKey, count);
                        setCountColor("#F59E0B");
                        saveToFirebase(count);

                        image.style.opacity = "1";
                        plusIcon.style.opacity = "0";
                        mobileFirstTap = true;
                    }
                });
            }
        }

        // Melna's counters
        setupCounter(
            "melna-count-card",
            "melna-card-image",
            "melna-plus-icon",
            "melna-count-loading",
            "melna-count-value",
            "melna_mass_count",
            "holy mass",
            "melna"
        );
        setupCounter(
            "melna-count-card-mobile",
            "melna-card-image-mobile",
            "melna-plus-icon-mobile",
            "melna-count-loading-mobile",
            "melna-count-value-mobile",
            "melna_mass_count",
            "holy mass",
            "melna"
        );
    </script>
    <!-- a rossary -->
    <script type="module">
        const { doc, getDoc, updateDoc } = window.firebaseFns;
        const db = window.db;

        function setupCounter(cardId, imageId, plusIconId, loadingId, valueId, localKey, firebaseDocName, collectionName) {
            const card = document.getElementById(cardId);
            const image = document.getElementById(imageId);
            const plusIcon = document.getElementById(plusIconId);
            const loadingSpinner = document.getElementById(loadingId);
            const countValue = document.getElementById(valueId);

            let count = 0;
            let mobileFirstTap = true;

            function showLoading() {
                loadingSpinner.classList.remove("hidden");
                countValue.classList.add("hidden");
            }

            function showCount(value) {
                countValue.textContent = value;
                loadingSpinner.classList.add("hidden");
                countValue.classList.remove("hidden");
            }

            function setCountColor(color) {
                countValue.style.color = color;
            }

            // Show loading initially
            showLoading();

            // Load from Local Storage
            if (localStorage.getItem(localKey)) {
                count = parseInt(localStorage.getItem(localKey), 10);
                showCount(count);
            }

            // Load from Firebase
            async function loadFromFirebase() {
                const ref = doc(db, collectionName, firebaseDocName);
                try {
                    const snapshot = await getDoc(ref);
                    if (snapshot.exists()) {
                        count = snapshot.data().count || 0;
                        localStorage.setItem(localKey, count);
                        showCount(count);
                    } else {
                        showCount(0);
                    }
                } catch (err) {
                    console.error("Error fetching from Firebase:", err);
                    showCount(count || 0);
                }
            }
            loadFromFirebase();

            // Save to Firebase
            async function saveToFirebase(newCount) {
                const ref = doc(db, collectionName, firebaseDocName);
                try {
                    await updateDoc(ref, { count: newCount });
                    setCountColor("#34D399"); // green on success
                    setTimeout(() => setCountColor("white"), 1000);
                } catch (err) {
                    console.error("Error saving to Firebase:", err);
                    setCountColor("red");
                }
            }

            // Event bindings (works for both desktop & mobile)
            plusIcon.addEventListener("click", (event) => {
                event.stopPropagation();

                // Mobile double-tap behavior
                if (!window.matchMedia("(hover: hover)").matches) {
                    if (mobileFirstTap) {
                        image.style.opacity = "0.2";
                        plusIcon.style.opacity = "1";
                        mobileFirstTap = false;

                        setTimeout(() => {
                            image.style.opacity = "1";
                            plusIcon.style.opacity = "0";
                            mobileFirstTap = true;
                        }, 3000);
                        return;
                    }
                }

                // Increment
                count++;
                showCount(count);
                localStorage.setItem(localKey, count);
                setCountColor("#F59E0B"); // orange while saving
                saveToFirebase(count);

                // Reset visuals
                image.style.opacity = "1";
                plusIcon.style.opacity = "0";
                mobileFirstTap = true;
            });

            // Hover effect for desktop
            if (window.matchMedia("(hover: hover)").matches) {
                card.addEventListener("mouseenter", () => {
                    image.style.opacity = "0.2";
                    plusIcon.style.opacity = "1";
                });
                card.addEventListener("mouseleave", () => {
                    image.style.opacity = "1";
                    plusIcon.style.opacity = "0";
                });
            }
        }

        // ‚úÖ Rosary counter setup (desktop)
        setupCounter(
            "rosary-count-card",
            "rosary-card-image",
            "rosary-plus-icon",
            "rosary-count-loading",
            "rosary-count-value",
            "rosary_count",
            "rossary", // Firestore doc name
            "abhi"     // Firestore collection name
        );

        // ‚úÖ Rosary counter setup (mobile)
        setupCounter(
            "rosary-count-card-mobile",
            "rosary-card-image-mobile",
            "rosary-plus-icon-mobile",
            "rosary-count-loading-mobile",
            "rosary-count-value-mobile",
            "rosary_count",
            "rossary",
            "abhi"
        );
    </script>
    <!-- m rossary -->
    <script type="module">
        const { doc, getDoc, updateDoc } = window.firebaseFns;
        const db = window.db;

        function setupCounter(cardId, imageId, plusIconId, loadingId, valueId, localKey, firebaseDocName, collectionName) {
            const card = document.getElementById(cardId);
            const image = document.getElementById(imageId);
            const plusIcon = document.getElementById(plusIconId);
            const loadingSpinner = document.getElementById(loadingId);
            const countValue = document.getElementById(valueId);

            let count = 0;
            let mobileFirstTap = true;

            function showLoading() {
                loadingSpinner.classList.remove("hidden");
                countValue.classList.add("hidden");
            }

            function showCount(value) {
                countValue.textContent = value;
                loadingSpinner.classList.add("hidden");
                countValue.classList.remove("hidden");
            }

            function setCountColor(color) {
                countValue.style.color = color;
            }

            // Show loading initially
            showLoading();

            // Load from Local Storage
            if (localStorage.getItem(localKey)) {
                count = parseInt(localStorage.getItem(localKey), 10);
                showCount(count);
            }

            // Load from Firebase
            async function loadFromFirebase() {
                const ref = doc(db, collectionName, firebaseDocName);
                try {
                    const snapshot = await getDoc(ref);
                    if (snapshot.exists()) {
                        count = snapshot.data().count || 0;
                        localStorage.setItem(localKey, count);
                        showCount(count);
                    } else {
                        showCount(0);
                    }
                } catch (err) {
                    console.error("Error fetching from Firebase:", err);
                    showCount(count || 0);
                }
            }
            loadFromFirebase();

            // Save to Firebase
            async function saveToFirebase(newCount) {
                const ref = doc(db, collectionName, firebaseDocName);
                try {
                    await updateDoc(ref, { count: newCount });
                    setCountColor("#34D399"); // green on success
                    setTimeout(() => setCountColor("white"), 1000);
                } catch (err) {
                    console.error("Error saving to Firebase:", err);
                    setCountColor("red");
                }
            }

            // Event bindings (works for both desktop & mobile)
            plusIcon.addEventListener("click", (event) => {
                event.stopPropagation();

                // Mobile double-tap behavior
                if (!window.matchMedia("(hover: hover)").matches) {
                    if (mobileFirstTap) {
                        image.style.opacity = "0.2";
                        plusIcon.style.opacity = "1";
                        mobileFirstTap = false;

                        setTimeout(() => {
                            image.style.opacity = "1";
                            plusIcon.style.opacity = "0";
                            mobileFirstTap = true;
                        }, 3000);
                        return;
                    }
                }

                // Increment
                count++;
                showCount(count);
                localStorage.setItem(localKey, count);
                setCountColor("#F59E0B"); // orange while saving
                saveToFirebase(count);

                // Reset visuals
                image.style.opacity = "1";
                plusIcon.style.opacity = "0";
                mobileFirstTap = true;
            });

            // Hover effect for desktop
            if (window.matchMedia("(hover: hover)").matches) {
                card.addEventListener("mouseenter", () => {
                    image.style.opacity = "0.2";
                    plusIcon.style.opacity = "1";
                });
                card.addEventListener("mouseleave", () => {
                    image.style.opacity = "1";
                    plusIcon.style.opacity = "0";
                });
            }
        }

        // ‚úÖ Melna Rosary counter setup (desktop)
        setupCounter(
            "melna-rosary-count-card",        // Card ID (desktop)
            "melna-rosary-card-image",        // Image ID
            "melna-rosary-plus-icon",         // Plus icon ID
            "melna-rosary-count-loading",     // Loading spinner ID
            "melna-rosary-count-value",       // Value text ID
            "melna_rosary_count",             // LocalStorage key
            "rossary",                        // Firestore doc name
            "melna"                           // Firestore collection name
        );

        // ‚úÖ Melna Rosary counter setup (mobile)
        setupCounter(
            "melna-rosary-count-card-mobile", // Card ID (mobile)
            "melna-rosary-card-image-mobile", // Image ID
            "melna-rosary-plus-icon-mobile",  // Plus icon ID
            "melna-rosary-count-loading-mobile", // Loading spinner ID
            "melna-rosary-count-value-mobile",   // Value text ID
            "melna_rosary_count",              // LocalStorage key
            "rossary",                         // Firestore doc name
            "melna"                            // Firestore collection name
        );
    </script>
    <!-- a mercy rossary -->
    <script type="module">
        const { doc, getDoc, updateDoc, setDoc } = window.firebaseFns;

        function setupCounter(cardId, imageId, plusIconId, loadingId, valueId, localKey, firebaseDocName, collectionName) {
            const card = document.getElementById(cardId);
            const image = document.getElementById(imageId);
            const plusIcon = document.getElementById(plusIconId);
            const loadingSpinner = document.getElementById(loadingId);
            const countValue = document.getElementById(valueId);

            if (!card || !plusIcon) return;

            let count = 0;
            let mobileFirstTap = true;

            function showLoading() {
                loadingSpinner.classList.remove("hidden");
                countValue.classList.add("hidden");
            }

            function showCount(value) {
                countValue.textContent = value;
                loadingSpinner.classList.add("hidden");
                countValue.classList.remove("hidden");
            }

            function setCountColor(color) {
                countValue.style.color = color;
            }

            // Show loading initially
            showLoading();

            // Load from Local Storage
            if (localStorage.getItem(localKey)) {
                count = parseInt(localStorage.getItem(localKey), 10);
                showCount(count);
            }

            // Load from Firebase
            async function loadFromFirebase() {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    const snapshot = await getDoc(ref);
                    if (snapshot.exists()) {
                        count = snapshot.data().value || 0;
                        localStorage.setItem(localKey, count);
                        showCount(count);
                    } else {
                        showCount(0);
                    }
                } catch (err) {
                    console.error("Error fetching from Firebase:", err);
                    showCount(count || 0);
                }
            }
            loadFromFirebase();

            // Save to Firebase (with fallback)
            async function saveToFirebase(newCount) {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    await updateDoc(ref, { value: newCount });
                    setCountColor("#34D399"); // green flash
                    setTimeout(() => setCountColor("white"), 1000);
                } catch (err) {
                    console.warn("updateDoc failed, trying setDoc...", err);
                    try {
                        await setDoc(ref, { value: newCount }); // create doc if missing
                        setCountColor("#34D399");
                        setTimeout(() => setCountColor("white"), 1000);
                    } catch (e) {
                        console.error("setDoc failed", e);
                        setCountColor("red");
                    }
                }
            }

            // Desktop hover
            if (window.matchMedia("(hover: hover)").matches) {
                card.addEventListener("mouseenter", () => {
                    image.style.opacity = "0.2";
                    plusIcon.style.opacity = "1";
                });
                card.addEventListener("mouseleave", () => {
                    image.style.opacity = "1";
                    plusIcon.style.opacity = "0";
                });

                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    count++;
                    showCount(count);
                    localStorage.setItem(localKey, count);
                    setCountColor("#F59E0B");
                    saveToFirebase(count);
                });
            }
            // Mobile touch devices
            else {
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    if (mobileFirstTap) {
                        image.style.opacity = "0.2";
                        plusIcon.style.opacity = "1";
                        mobileFirstTap = false;

                        setTimeout(() => {
                            image.style.opacity = "1";
                            plusIcon.style.opacity = "0";
                            mobileFirstTap = true;
                        }, 3000);
                    } else {
                        count++;
                        showCount(count);
                        localStorage.setItem(localKey, count);
                        setCountColor("#F59E0B");
                        saveToFirebase(count);

                        image.style.opacity = "1";
                        plusIcon.style.opacity = "0";
                        mobileFirstTap = true;
                    }
                });
            }
        }

        // Mercy Rosary Counters (Abhi)
        setupCounter(
            "mercy-rosary-count-card",
            "mercy-rosary-image",
            "mercy-rosary-plus-icon",
            "mercy-rosary-loading",
            "mercy-rosary-count-value",
            "mercy_rosary_count",
            "mercy rossary", // Firestore doc name
            "abhi"
        );

        setupCounter(
            "mercy-rosary-count-card-mobile",
            "mercy-rosary-card-image-mobile",
            "mercy-rosary-plus-icon-mobile",
            "mercy-rosary-count-loading-mobile",
            "mercy-rosary-count-value-mobile",
            "mercy_rosary_count",
            "mercy rossary", // Firestore doc name
            "abhi"
        );
    </script>

    <!-- Melna Mercy Rosary -->
    <script type="module">
        const { doc, getDoc, updateDoc, setDoc } = window.firebaseFns;

        function setupCounter(cardId, imageId, plusIconId, loadingId, valueId, localKey, firebaseDocName, collectionName) {
            const card = document.getElementById(cardId);
            const image = document.getElementById(imageId);
            const plusIcon = document.getElementById(plusIconId);
            const loadingSpinner = document.getElementById(loadingId);
            const countValue = document.getElementById(valueId);

            if (!card || !plusIcon) return;

            let count = 0;
            let mobileFirstTap = true;

            function showLoading() {
                loadingSpinner.classList.remove("hidden");
                countValue.classList.add("hidden");
            }

            function showCount(value) {
                countValue.textContent = value;
                loadingSpinner.classList.add("hidden");
                countValue.classList.remove("hidden");
            }

            function setCountColor(color) {
                countValue.style.color = color;
            }

            // Show loading initially
            showLoading();

            // Load from Local Storage
            if (localStorage.getItem(localKey)) {
                count = parseInt(localStorage.getItem(localKey), 10);
                showCount(count);
            }

            // Load from Firebase
            async function loadFromFirebase() {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    const snapshot = await getDoc(ref);
                    if (snapshot.exists()) {
                        count = snapshot.data().value || 0;
                        localStorage.setItem(localKey, count);
                        showCount(count);
                    } else {
                        showCount(0);
                    }
                } catch (err) {
                    console.error("Error fetching from Firebase:", err);
                    showCount(count || 0);
                }
            }
            loadFromFirebase();

            // Save to Firebase (with fallback)
            async function saveToFirebase(newCount) {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    await updateDoc(ref, { value: newCount });
                    setCountColor("#34D399"); // green flash
                    setTimeout(() => setCountColor("white"), 1000);
                } catch (err) {
                    console.warn("updateDoc failed, trying setDoc...", err);
                    try {
                        await setDoc(ref, { value: newCount }); // create doc if missing
                        setCountColor("#34D399");
                        setTimeout(() => setCountColor("white"), 1000);
                    } catch (e) {
                        console.error("setDoc failed", e);
                        setCountColor("red");
                    }
                }
            }

            // Desktop hover
            if (window.matchMedia("(hover: hover)").matches) {
                card.addEventListener("mouseenter", () => {
                    image.style.opacity = "0.2";
                    plusIcon.style.opacity = "1";
                });
                card.addEventListener("mouseleave", () => {
                    image.style.opacity = "1";
                    plusIcon.style.opacity = "0";
                });

                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    count++;
                    showCount(count);
                    localStorage.setItem(localKey, count);
                    setCountColor("#F59E0B");
                    saveToFirebase(count);
                });
            }
            // Mobile touch devices
            else {
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    if (mobileFirstTap) {
                        image.style.opacity = "0.2";
                        plusIcon.style.opacity = "1";
                        mobileFirstTap = false;

                        setTimeout(() => {
                            image.style.opacity = "1";
                            plusIcon.style.opacity = "0";
                            mobileFirstTap = true;
                        }, 3000);
                    } else {
                        count++;
                        showCount(count);
                        localStorage.setItem(localKey, count);
                        setCountColor("#F59E0B");
                        saveToFirebase(count);

                        image.style.opacity = "1";
                        plusIcon.style.opacity = "0";
                        mobileFirstTap = true;
                    }
                });
            }
        }

        // Mercy Rosary Counters (Melna)
        setupCounter(
            "melna-mercy-rosary-count-card",
            "melna-mercy-rosary-image",
            "melna-mercy-rosary-plus-icon",
            "melna-mercy-rosary-loading",
            "melna-mercy-rosary-count-value",
            "melna_mercy_rosary_count",
            "mercy rossary", // Firestore doc name
            "melna"
        );

        setupCounter(
            "melna-mercy-rosary-count-card-mobile",
            "melna-mercy-rosary-card-image-mobile",
            "melna-mercy-rosary-plus-icon-mobile",
            "melna-mercy-rosary-count-loading-mobile",
            "melna-mercy-rosary-count-value-mobile",
            "melna_mercy_rosary_count",
            "mercy rossary", // Firestore doc name
            "melna"
        );
    </script>


    <!-- Adoration Counter Script for Abhi -->
    <script type="module">
        const { doc, getDoc, updateDoc } = window.firebaseFns;

        function setupCounter(cardId, imageId, plusIconId, loadingId, valueId, localKey, firebaseDocName, collectionName) {
            const card = document.getElementById(cardId);
            const image = document.getElementById(imageId);
            const plusIcon = document.getElementById(plusIconId);
            const loadingSpinner = document.getElementById(loadingId);
            const countValue = document.getElementById(valueId);

            if (!card || !plusIcon) return;

            let count = 0;
            let mobileFirstTap = true;

            function showLoading() {
                loadingSpinner.classList.remove("hidden");
                countValue.classList.add("hidden");
            }

            function showCount(value) {
                countValue.textContent = value;
                loadingSpinner.classList.add("hidden");
                countValue.classList.remove("hidden");
            }

            function setCountColor(color) {
                countValue.style.color = color;
            }

            // Show loading initially
            showLoading();

            // Load from Local Storage
            if (localStorage.getItem(localKey)) {
                count = parseInt(localStorage.getItem(localKey), 10);
                showCount(count);
            }

            // Load from Firebase
            async function loadFromFirebase() {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    const snapshot = await getDoc(ref);
                    if (snapshot.exists()) {
                        count = snapshot.data().value || 0;
                        localStorage.setItem(localKey, count);
                        showCount(count);
                    } else {
                        showCount(0);
                    }
                } catch (err) {
                    console.error("Error fetching from Firebase:", err);
                    showCount(count || 0);
                }
            }
            loadFromFirebase();

            // Save to Firebase
            async function saveToFirebase(newCount) {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    await updateDoc(ref, { value: newCount });
                    setCountColor("#34D399"); // green flash
                    setTimeout(() => setCountColor("white"), 1000);
                } catch (err) {
                    console.error("Error saving to Firebase:", err);
                    setCountColor("red");
                }
            }

            // Desktop hover effects
            if (window.matchMedia("(hover: hover)").matches) {
                card.addEventListener("mouseenter", () => {
                    image.style.opacity = "0.2";
                    plusIcon.style.opacity = "1";
                });
                card.addEventListener("mouseleave", () => {
                    image.style.opacity = "1";
                    plusIcon.style.opacity = "0";
                });

                // Increment only when clicking the plus icon
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    count++;
                    showCount(count);
                    localStorage.setItem(localKey, count);
                    setCountColor("#F59E0B");
                    saveToFirebase(count);
                });
            }
            // Mobile/touch devices
            else {
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    if (mobileFirstTap) {
                        // First tap: show plus icon
                        image.style.opacity = "0.2";
                        plusIcon.style.opacity = "1";
                        mobileFirstTap = false;

                        setTimeout(() => {
                            image.style.opacity = "1";
                            plusIcon.style.opacity = "0";
                            mobileFirstTap = true;
                        }, 3000);
                    } else {
                        // Second tap: increment
                        count++;
                        showCount(count);
                        localStorage.setItem(localKey, count);
                        setCountColor("#F59E0B");
                        saveToFirebase(count);

                        image.style.opacity = "1";
                        plusIcon.style.opacity = "0";
                        mobileFirstTap = true;
                    }
                });
            }
        }

        // Adoration Counters for Abhi
        setupCounter(
            "adoration-count-card",                // cardId (desktop)
            "adoration-card-image",                // imageId
            "adoration-plus-icon",                 // plusIconId
            "adoration-count-loading",             // loadingId
            "adoration-count-value",               // valueId
            "adoration_count_abhi",                // localKey
            "adoration",                           // firebaseDocName
            "abhi"                                 // collectionName
        );

        setupCounter(
            "adoration-count-card-mobile-abhi",    // cardId (mobile)
            "adoration-card-image-mobile-abhi",    // imageId
            "adoration-plus-icon-mobile-abhi",     // plusIconId
            "adoration-count-loading-mobile-abhi", // loadingId
            "adoration-count-value-mobile-abhi",   // valueId
            "adoration_count_abhi",                // localKey
            "adoration",                           // firebaseDocName
            "abhi"                                 // collectionName
        );
    </script>
    <!-- Adoration Counter Script for Melna -->
    <script type="module">
        const { doc, getDoc, updateDoc } = window.firebaseFns;

        function setupCounter(cardId, imageId, plusIconId, loadingId, valueId, localKey, firebaseDocName, collectionName) {
            const card = document.getElementById(cardId);
            const image = document.getElementById(imageId);
            const plusIcon = document.getElementById(plusIconId);
            const loadingSpinner = document.getElementById(loadingId);
            const countValue = document.getElementById(valueId);

            if (!card || !plusIcon) return;

            let count = 0;
            let mobileFirstTap = true;

            function showLoading() {
                loadingSpinner.classList.remove("hidden");
                countValue.classList.add("hidden");
            }

            function showCount(value) {
                countValue.textContent = value;
                loadingSpinner.classList.add("hidden");
                countValue.classList.remove("hidden");
            }

            function setCountColor(color) {
                countValue.style.color = color;
            }

            // Show loading initially
            showLoading();

            // Load from Local Storage
            if (localStorage.getItem(localKey)) {
                count = parseInt(localStorage.getItem(localKey), 10);
                showCount(count);
            }

            // Load from Firebase
            async function loadFromFirebase() {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    const snapshot = await getDoc(ref);
                    if (snapshot.exists()) {
                        count = snapshot.data().value || 0;
                        localStorage.setItem(localKey, count);
                        showCount(count);
                    } else {
                        showCount(0);
                    }
                } catch (err) {
                    console.error("Error fetching from Firebase:", err);
                    showCount(count || 0);
                }
            }
            loadFromFirebase();

            // Save to Firebase
            async function saveToFirebase(newCount) {
                const ref = doc(window.db, collectionName, firebaseDocName);
                try {
                    await updateDoc(ref, { value: newCount });
                    setCountColor("#34D399"); // green flash
                    setTimeout(() => setCountColor("white"), 1000);
                } catch (err) {
                    console.error("Error saving to Firebase:", err);
                    setCountColor("red");
                }
            }

            // Desktop hover effects
            if (window.matchMedia("(hover: hover)").matches) {
                card.addEventListener("mouseenter", () => {
                    image.style.opacity = "0.2";
                    plusIcon.style.opacity = "1";
                });
                card.addEventListener("mouseleave", () => {
                    image.style.opacity = "1";
                    plusIcon.style.opacity = "0";
                });

                // Increment only when clicking the plus icon
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    count++;
                    showCount(count);
                    localStorage.setItem(localKey, count);
                    setCountColor("#F59E0B");
                    saveToFirebase(count);
                });
            }
            // Mobile/touch devices
            else {
                plusIcon.addEventListener("click", (event) => {
                    event.stopPropagation();
                    if (mobileFirstTap) {
                        // First tap: show plus icon
                        image.style.opacity = "0.2";
                        plusIcon.style.opacity = "1";
                        mobileFirstTap = false;

                        setTimeout(() => {
                            image.style.opacity = "1";
                            plusIcon.style.opacity = "0";
                            mobileFirstTap = true;
                        }, 3000);
                    } else {
                        // Second tap: increment
                        count++;
                        showCount(count);
                        localStorage.setItem(localKey, count);
                        setCountColor("#F59E0B");
                        saveToFirebase(count);

                        image.style.opacity = "1";
                        plusIcon.style.opacity = "0";
                        mobileFirstTap = true;
                    }
                });
            }
        }

        // Melna - Adoration Counters
        setupCounter(
            "melna-adoration-count-card",              // cardId (desktop)
            "melna-adoration-card-image",              // imageId
            "melna-adoration-plus-icon",               // plusIconId
            "melna-adoration-count-loading",           // loadingId
            "melna-adoration-count-value",             // valueId
            "melna_adoration_count",                   // localKey
            "adoration",                               // firebaseDocName
            "melna"                                    // collectionName
        );

        setupCounter(
            "melna-adoration-count-card-mobile",       // cardId (mobile)
            "melna-adoration-card-image-mobile",       // imageId
            "melna-adoration-plus-icon-mobile",        // plusIconId
            "melna-adoration-count-loading-mobile",    // loadingId
            "melna-adoration-count-value-mobile",      // valueId
            "melna_adoration_count",                   // localKey
            "adoration",                               // firebaseDocName
            "melna"                                    // collectionName
        );
    </script>







</body>

</html>
